{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '43800208-301c21487611dae4b6f535cf2';\n\nexport const fetchImagesByQuery = (queryString = 'pug') => {\n  const searchParams = new URLSearchParams({\n    key: API_KEY,\n    q: queryString,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  return fetch(`${BASE_URL}?${searchParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    return response.json();\n  });\n};\n","export const createGalleryItemMarkup = images => {\n  return images\n    .map(\n      image => `\n<li class='gallery-item'>\n<a class='gallery-item-link' href='${image.largeImageURL}'>\n    <img\n    src='${image.webformatURL}'\n    alt='${image.tags}'>\n</a>\n<div class='stats'>\n<span>\n<p class='stat-name'>Likes</p>\n<p class='stat-value'>${image.likes}</p>\n</span>\n<span>\n<p class='stat-name'>Views</p>\n<p class='stat-value'>${image.views}</p>\n</span>\n<span>\n<p class='stat-name'>Comments</p>\n<p class='stat-value'>${image.comments}</p>\n</span>\n<span>\n<p class='stat-name'>Downloads</p>\n<p class='stat-value'>${image.downloads}</p>\n</span>\n</div>\n</li>\n`\n    )\n    .join('');\n};\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { fetchImagesByQuery } from './js/pixabay-api.js';\nimport { createGalleryItemMarkup } from './js/render-functions.js';\n\nconst galleryEl = document.querySelector('.gallery');\nconst searchFormEl = document.querySelector('.search-form');\nconst loaderEl = document.querySelector('.loader');\n\nfunction onSearchFormSubmit(event) {\n  event.preventDefault();\n  const searchQuery = event.target.elements.searchQuery.value.trim();\n  if (searchQuery === '') {\n    galleryEl.innerHTML = '';\n    event.target.reset();\n    iziToast.warning({\n      position: 'topRight',\n      transitionIn: 'bounceInLeft',\n      message: 'input field cannot be empty',\n      messageSize: 16,\n      timeout: 3000,\n    });\n    return;\n  }\n\n  galleryEl.innerHTML = '';\n  loaderEl.classList.remove('is-hidden');\n\n  fetchImagesByQuery(searchQuery)\n    .then(imagesData => {\n      if (imagesData.total === 0) {\n        event.target.reset();\n        iziToast.error({\n          position: 'topRight',\n          transitionIn: 'bounceInLeft',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          messageSize: 16,\n          timeout: 3000,\n        });\n      }\n      const lightbox = new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n      });\n      galleryEl.innerHTML = createGalleryItemMarkup(imagesData.hits);\n      lightbox.refresh();\n    })\n    .catch(error => error)\n    .finally(() => {\n      event.target.reset();\n      loaderEl.classList.add('is-hidden');\n    });\n}\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);\n"],"names":["BASE_URL","API_KEY","fetchImagesByQuery","queryString","searchParams","response","createGalleryItemMarkup","images","image","galleryEl","searchFormEl","loaderEl","onSearchFormSubmit","event","searchQuery","iziToast","imagesData","lightbox","SimpleLightbox","error"],"mappings":"6vBAAA,MAAMA,EAAW,2BACXC,EAAU,qCAEHC,EAAqB,CAACC,EAAc,QAAU,CACzD,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACD,OAAO,MAAM,GAAGH,CAAQ,IAAII,CAAY,EAAE,EAAE,KAAKC,GAAY,CAC3D,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,UAAU,EAErC,OAAOA,EAAS,MACpB,CAAG,CACH,ECjBaC,EAA0BC,GAC9BA,EACJ,IACCC,GAAS;AAAA;AAAA,qCAEsBA,EAAM,aAAa;AAAA;AAAA,WAE7CA,EAAM,YAAY;AAAA,WAClBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,wBAKGA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,wBAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,wBAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,wBAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,CAKlC,EACA,KAAK,EAAE,ECtBNC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAe,SAAS,cAAc,cAAc,EACpDC,EAAW,SAAS,cAAc,SAAS,EAEjD,SAASC,EAAmBC,EAAO,CACjCA,EAAM,eAAc,EACpB,MAAMC,EAAcD,EAAM,OAAO,SAAS,YAAY,MAAM,OAC5D,GAAIC,IAAgB,GAAI,CACtBL,EAAU,UAAY,GACtBI,EAAM,OAAO,QACbE,EAAS,QAAQ,CACf,SAAU,WACV,aAAc,eACd,QAAS,8BACT,YAAa,GACb,QAAS,GACf,CAAK,EACD,MACD,CAEDN,EAAU,UAAY,GACtBE,EAAS,UAAU,OAAO,WAAW,EAErCT,EAAmBY,CAAW,EAC3B,KAAKE,GAAc,CACdA,EAAW,QAAU,IACvBH,EAAM,OAAO,QACbE,EAAS,MAAM,CACb,SAAU,WACV,aAAc,eACd,QACE,2EACF,YAAa,GACb,QAAS,GACnB,CAAS,GAEH,MAAME,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GACtB,CAAO,EACDT,EAAU,UAAYH,EAAwBU,EAAW,IAAI,EAC7DC,EAAS,QAAO,CACtB,CAAK,EACA,MAAME,GAASA,CAAK,EACpB,QAAQ,IAAM,CACbN,EAAM,OAAO,QACbF,EAAS,UAAU,IAAI,WAAW,CACxC,CAAK,CACL,CAEAD,EAAa,iBAAiB,SAAUE,CAAkB"}